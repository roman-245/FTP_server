Для работы с новым сервером, клиентский код должен быть скорректирован, чтобы поддерживать все команды, включая upload и download, а также корректно обрабатывать команду stop для остановки сервера. Мы также будем держать соединение открытым до тех пор, пока не будет отправлена команда exit или stop.

Вот доработанный код клиента:
----
Объяснение изменений:

Подключение к серверу: Теперь клиент подключается к серверу один раз и поддерживает соединение до тех пор, пока не будет отправлена команда exit или stop.
Функции для отправки и получения файлов: Добавлены функции send_file и receive_file для отправки и получения файлов по сети.
Обработка команд upload и download: Если сервер отвечает upload, клиент отправляет файл. Для команды download клиент принимает файл и сохраняет его в текущей директории.
Корректная обработка команды stop: При получении ответа Server stopping клиент завершает работу.
Этот клиентский код должен работать корректно с ранее представленным серверным кодом.
